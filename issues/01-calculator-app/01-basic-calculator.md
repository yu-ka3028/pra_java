# 基本電卓機能の実装

## 目的

Java の基本文法を習得しながら、四則演算ができるコンソールベースの電卓アプリケーションを開発します。

## ゴール

- 四則演算（加算、減算、乗算、除算）が正常に動作する
- コンソールから数値と演算子を入力できる
- 計算結果を適切に表示できる
- 基本的な入力値チェックができる

## 事前準備（調査）

### 1. Java 基本文法の確認

- [x] 変数の宣言と初期化
- [x] メソッドの定義と呼び出し
- [x] 条件分岐（if-else 文）
- [x] ループ処理（for 文、while 文）
- [x] 配列の使用方法

### 2. コンソール入出力の調査

- [x] `Scanner`クラスの使用方法
- [x] `System.out.println()`の使用方法
- [x] 文字列と数値の変換方法

### 3. 計算精度の調査

- [ ] `double`型と`BigDecimal`の違い
- [ ] 浮動小数点数の精度問題
- [ ] 薬剤計算での精度要件

## 実装のタスク分解
branch: console_calc
### Phase 1: 基本構造の作成

- [x] `Calculator`クラスの作成
- [x] メインメソッドの実装
- [x] 基本的な計算メソッドの定義

### Phase 2: 四則演算の実装

- [x] 加算メソッドの実装
- [x] 減算メソッドの実装
- [x] 乗算メソッドの実装
- [x] 除算メソッドの実装

### Phase 3: コンソール入出力の実装

- [x] `Scanner`オブジェクトの作成
- [x] 数値入力の処理
- [x] 演算子入力の処理
- [x] 結果表示の実装

### Phase 4: 四則演算の混合計算の実装

- [ ] マイナス値を含む計算
    - 文脈ベースの符号判定
    - 符号を数値と結合する分割方法
    - カッコをつける方法
- [ ] 連続した計算（1+1-5など）
- [ ] 演算子混合時の四則計算（*と/が優先されるなど）
- [ ] エラーメッセージの表示（桁数？）

## Phase 5: 小数点のある計算の実装
- [ ] 小数点のある要素の計算

## 動作確認チェックリスト

### 基本機能テスト

- [x] 加算（5 + 3 = 8）が正常に動作する
- [ ] 加算（-1 + 1 = 0）が正常に動作する
- [ ] 加算（1.5 + 1.2 = 2.7）が正常に動作する
- [x] 減算（10 - 4 = 6）が正常に動作する
- [ ] 減算（-10.2 - 4.1 = -14.3）が正常に動作する
- [x] 乗算（6 * 7 = 42）が正常に動作する
- [ ] 乗算（6.2 * 2 = 3.1）が正常に動作する
- [x] 除算（15 / 3 = 5）が正常に動作する
- [ ] 除算（5 * (-2) = -10）が正常に動作する

### エッジケーステスト

- [ ] 大きな数値の計算が正常に動作する
- [ ] 小数の計算が正常に動作する
- [ ] 負の数の計算が正常に動作する
- [ ] ゼロの計算が正常に動作する

### 入力値チェックテスト

- [ ] 不正な数値入力時にエラーメッセージが表示される
- [ ] 不正な演算子入力時にエラーメッセージが表示される
- [ ] プログラムが異常終了しない

### ユーザビリティテスト

- [ ] 入力方法が分かりやすい
- [ ] エラーメッセージが理解しやすい
- [ ] 計算結果が正確に表示される

## その他備考

### 注意事項

- 薬剤計算では精度が重要なので、必要に応じて`BigDecimal`を使用する
- 家族向けシステムとして、使いやすさを重視する
- 将来的な機能拡張を考慮した設計にする

### 参考資料

- [Java Scanner Class](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Scanner.html)
- [Java Math Class](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Math.html)
- [BigDecimal for Precise Calculations](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/math/BigDecimal.html)

### 次のステップ

- 高度な演算機能の実装
- エラーハンドリングの強化
- 単体テストの作成
